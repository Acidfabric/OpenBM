GAS LISTING /tmp/ccSrPIrd.s 			page 1


   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.stabs	"/media/sda6/home/tevs/src/psyBMW_trunk/avr/BordMonitor/",100,0,2,.Ltext0
  11               		.stabs	"main.c",100,0,2,.Ltext0
  12               		.text
  13               	.Ltext0:
  14               		.stabs	"gcc2_compiled.",60,0,0,0
  15               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,1,0
  16               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,1,0
  17               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,1,0
  18               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,1,0
  19               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,1,0
  20               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,1,
  21               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,1,0
  22               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,1,0
  23               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,1,0
  24               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,1,0
  25               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,1,0
  26               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,1,0
  27               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,1,0
  28               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,1,0
  29               		.stabs	"void:t(0,15)=(0,15)",128,0,1,0
  30               		.stabs	"./include/base.h",130,0,0,0
  31               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/io.h",130,0,0,0
  32               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/sfr_defs.h",130,0,0,0
  33               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/inttypes.h",130,0,0,0
  34               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/stdint.h",130,0,0,0
  35               		.stabs	"int8_t:t(5,1)=(0,10)",128,0,121,0
  36               		.stabs	"uint8_t:t(5,2)=(0,11)",128,0,122,0
  37               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,123,0
  38               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,124,0
  39               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,125,0
  40               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,126,0
  41               		.stabs	"int64_t:t(5,7)=(0,6)",128,0,128,0
  42               		.stabs	"uint64_t:t(5,8)=(0,7)",128,0,129,0
  43               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,142,0
  44               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,147,0
  45               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,159,0
  46               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,164,0
  47               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,169,0
  48               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,174,0
  49               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,179,0
  50               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,184,0
  51               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,192,0
  52               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,199,0
  53               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,213,0
  54               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,218,0
  55               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,223,0
  56               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,228,0
  57               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,233,0
GAS LISTING /tmp/ccSrPIrd.s 			page 2


  58               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,238,0
  59               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,246,0
  60               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,253,0
  61               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,273,0
  62               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,278,0
  63               		.stabn	162,0,0,0
  64               		.stabs	"int_farptr_t:t(4,1)=(5,5)",128,0,77,0
  65               		.stabs	"uint_farptr_t:t(4,2)=(5,6)",128,0,81,0
  66               		.stabn	162,0,0,0
  67               		.stabn	162,0,0,0
  68               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/fuse.h",130,0,0,0
  69               		.stabs	"__fuse_t:t(6,1)=(6,2)=s2low:(0,11),0,8;high:(0,11),8,8;;",128,0,247,0
  70               		.stabn	162,0,0,0
  71               		.stabn	162,0,0,0
  72               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/stdlib.h",130,0,0,0
  73               		.stabs	"/usr/lib/gcc/avr/4.3.4/include/stddef.h",130,0,0,0
  74               		.stabs	"size_t:t(8,1)=(0,4)",128,0,214,0
  75               		.stabs	"wchar_t:t(8,2)=(0,1)",128,0,326,0
  76               		.stabn	162,0,0,0
  77               		.stabs	"div_t:t(7,1)=(7,2)=s4quot:(0,1),0,16;rem:(0,1),16,16;;",128,0,71,0
  78               		.stabs	"ldiv_t:t(7,3)=(7,4)=s8quot:(0,3),0,32;rem:(0,3),32,32;;",128,0,77,0
  79               		.stabs	"__compar_fn_t:t(7,5)=(7,6)=*(7,7)=f(0,1)",128,0,80,0
  80               		.stabn	162,0,0,0
  81               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/pgmspace.h",130,0,0,0
  82               		.stabs	"prog_void:t(9,1)=(9,2)=(9,2)",128,0,211,0
  83               		.stabs	"prog_char:t(9,3)=(9,4)=@s8;r(9,4);0;255;",128,0,212,0
  84               		.stabs	"prog_uchar:t(9,5)=(9,4)",128,0,213,0
  85               		.stabs	"prog_int8_t:t(9,6)=(9,7)=(0,10)",128,0,215,0
  86               		.stabs	"prog_uint8_t:t(9,8)=(9,4)",128,0,216,0
  87               		.stabs	"prog_int16_t:t(9,9)=(9,10)=(0,1)",128,0,217,0
  88               		.stabs	"prog_uint16_t:t(9,11)=(9,12)=(0,4)",128,0,218,0
  89               		.stabs	"prog_int32_t:t(9,13)=(9,14)=(0,3)",128,0,219,0
  90               		.stabs	"prog_uint32_t:t(9,15)=(9,16)=(0,5)",128,0,220,0
  91               		.stabs	"prog_int64_t:t(9,17)=(9,18)=(0,6)",128,0,222,0
  92               		.stabs	"prog_uint64_t:t(9,19)=(9,20)=(0,7)",128,0,223,0
  93               		.stabn	162,0,0,0
  94               		.stabs	"ticks_t:t(1,1)=(5,6)",128,0,48,0
  95               		.stabn	162,0,0,0
  96               		.stabs	"buttons.h",130,0,0,0
  97               		.stabs	"buttonIndex_t:t(10,1)=(5,2)",128,0,32,0
  98               		.stabs	"buttonGlobalState_t:t(10,2)=(5,6)",128,0,86,0
  99               		.stabs	"buttonBool_t:t(10,3)=(5,2)",128,0,87,0
 100               		.stabn	162,0,0,0
 101               		.stabs	"adc_init:F(0,15)",36,0,31,adc_init
 102               	.global	adc_init
 103               		.type	adc_init, @function
 104               	adc_init:
 105               		.stabd	46,0,0
   0:main.c        **** /* 
   1:main.c        ****  * File:   main.c
   2:main.c        ****  * Author: tevs
   3:main.c        ****  *
   4:main.c        ****  * Created on December 10, 2009, 12:24 AM
   5:main.c        ****  */
   6:main.c        **** 
   7:main.c        **** #include "base.h"
   8:main.c        **** #include "ibus.h"
GAS LISTING /tmp/ccSrPIrd.s 			page 3


   9:main.c        **** #include <uart.h>
  10:main.c        **** #include <i2cmaster.h>
  11:main.c        **** #include <avr/wdt.h>
  12:main.c        **** #include "display.h"
  13:main.c        **** #include "buttons.h"
  14:main.c        **** #include "leds.h"
  15:main.c        **** 
  16:main.c        **** // global tick counter
  17:main.c        **** ticks_t g_tickNumber = 0;
  18:main.c        **** 
  19:main.c        **** // current adc value
  20:main.c        **** uint8_t g_photoSensor = 0;
  21:main.c        **** uint8_t g_backLightDimmer = 0;
  22:main.c        **** 
  23:main.c        **** // channel to read adc values (0 = photo sensor, 1 = light dimmer)
  24:main.c        **** uint8_t g_adcCurrentChannel = 0;
  25:main.c        **** 
  26:main.c        **** //------------------------------------------------------------------------------
  27:main.c        **** // Initialize analog hardware (read photo sensor, read bg light)
  28:main.c        **** //------------------------------------------------------------------------------
  29:main.c        **** void adc_init(void)
  30:main.c        **** {
 106               		.stabn	68,0,31,.LM0-.LFBB1
 107               	.LM0:
 108               	.LFBB1:
 109               	/* prologue: function */
 110               	/* frame size = 0 */
  31:main.c        ****     g_photoSensor = 0;
 111               		.stabn	68,0,32,.LM1-.LFBB1
 112               	.LM1:
 113 0000 1092 0000 		sts g_photoSensor,__zero_reg__
  32:main.c        ****     g_backLightDimmer = 0;
 114               		.stabn	68,0,33,.LM2-.LFBB1
 115               	.LM2:
 116 0004 1092 0000 		sts g_backLightDimmer,__zero_reg__
  33:main.c        ****     g_adcCurrentChannel = 0;
 117               		.stabn	68,0,34,.LM3-.LFBB1
 118               	.LM3:
 119 0008 1092 0000 		sts g_adcCurrentChannel,__zero_reg__
  34:main.c        ****     
  35:main.c        ****     ADCSRA |= (1 << ADPS2) | (1 << ADPS1) | (1 << ADPS0); // Set ADC prescaler to 128 - 109KHz samp
 120               		.stabn	68,0,36,.LM4-.LFBB1
 121               	.LM4:
 122 000c 86B1      		in r24,38-32
 123 000e 8760      		ori r24,lo8(7)
 124 0010 86B9      		out 38-32,r24
  36:main.c        ****     ADMUX = (1 << REFS0); // Set ADC reference to AVCC
 125               		.stabn	68,0,37,.LM5-.LFBB1
 126               	.LM5:
 127 0012 80E4      		ldi r24,lo8(64)
 128 0014 87B9      		out 39-32,r24
  37:main.c        ****     ADMUX |= (1 << ADLAR); // Left adjust ADC result to allow easy 8 bit reading
 129               		.stabn	68,0,38,.LM6-.LFBB1
 130               	.LM6:
 131 0016 3D9A      		sbi 39-32,5
  38:main.c        ****     ADMUX |= (1 << MUX0) | (1 << MUX1) | (1 << MUX2); // enable reading on ADC7
 132               		.stabn	68,0,39,.LM7-.LFBB1
GAS LISTING /tmp/ccSrPIrd.s 			page 4


 133               	.LM7:
 134 0018 87B1      		in r24,39-32
 135 001a 8760      		ori r24,lo8(7)
 136 001c 87B9      		out 39-32,r24
  39:main.c        ****     SFIOR &= ~(1 << ADTS2) & ~(1 << ADTS1) & ~(1 << ADTS0);  // Set ADC to Free-Running Mode
 137               		.stabn	68,0,40,.LM8-.LFBB1
 138               	.LM8:
 139 001e 80B7      		in r24,80-32
 140 0020 8F71      		andi r24,lo8(31)
 141 0022 80BF      		out 80-32,r24
  40:main.c        ****     ADCSRA |= (1 << ADIE);  // Enable ADC Interrupt
 142               		.stabn	68,0,41,.LM9-.LFBB1
 143               	.LM9:
 144 0024 339A      		sbi 38-32,3
  41:main.c        ****     ADCSRA |= (1 << ADEN);  // Enable ADC
 145               		.stabn	68,0,42,.LM10-.LFBB1
 146               	.LM10:
 147 0026 379A      		sbi 38-32,7
  42:main.c        **** 
  43:main.c        ****     // start reading from ADC
  44:main.c        ****     ADCSRA |= (1 << ADSC);
 148               		.stabn	68,0,45,.LM11-.LFBB1
 149               	.LM11:
 150 0028 369A      		sbi 38-32,6
 151               	/* epilogue start */
  45:main.c        **** }
 152               		.stabn	68,0,46,.LM12-.LFBB1
 153               	.LM12:
 154 002a 0895      		ret
 155               		.size	adc_init, .-adc_init
 156               	.Lscope1:
 157               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 158               		.stabd	78,0,0
 159               		.stabs	"resetCPU:F(0,15)",36,0,52,resetCPU
 160               	.global	resetCPU
 161               		.type	resetCPU, @function
 162               	resetCPU:
 163               		.stabd	46,0,0
  46:main.c        **** 
  47:main.c        **** //------------------------------------------------------------------------------
  48:main.c        **** // Reset cpu by watchdog, full reset is performed
  49:main.c        **** //------------------------------------------------------------------------------
  50:main.c        **** void resetCPU(void)
  51:main.c        **** {
 164               		.stabn	68,0,52,.LM13-.LFBB2
 165               	.LM13:
 166               	.LFBB2:
 167               	/* prologue: function */
 168               	/* frame size = 0 */
  52:main.c        ****     cli();
 169               		.stabn	68,0,53,.LM14-.LFBB2
 170               	.LM14:
 171               	/* #APP */
 172               	 ;  53 "main.c" 1
 173 002c F894      		cli
 174               	 ;  0 "" 2
  53:main.c        ****     wdt_enable(WDTO_15MS);
GAS LISTING /tmp/ccSrPIrd.s 			page 5


 175               		.stabn	68,0,54,.LM15-.LFBB2
 176               	.LM15:
 177               	/* #NOAPP */
 178 002e 28E0      		ldi r18,lo8(8)
 179 0030 88E1      		ldi r24,lo8(24)
 180 0032 90E0      		ldi r25,hi8(24)
 181               	/* #APP */
 182               	 ;  54 "main.c" 1
 183 0034 0FB6      		in __tmp_reg__,__SREG__
 184 0036 F894      		cli
 185 0038 A895      		wdr
 186 003a 81BD      		out 33,r24
 187 003c 0FBE      		out __SREG__,__tmp_reg__
 188 003e 21BD      		out 33,r18
 189               	 ;  0 "" 2
 190               	/* #NOAPP */
 191               	.L4:
 192 0040 00C0      		rjmp .L4
 193               		.size	resetCPU, .-resetCPU
 194               	.Lscope2:
 195               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 196               		.stabd	78,0,0
 197               		.stabs	"ibus_MessageCallback:F(0,15)",36,0,62,ibus_MessageCallback
 198               		.stabs	"src:P(5,2)",64,0,61,24
 199               		.stabs	"dst:P(5,2)",64,0,61,22
 200               		.stabs	"msg:P(0,16)=*(5,2)",64,0,61,20
 201               		.stabs	"msglen:P(5,2)",64,0,61,18
 202               	.global	ibus_MessageCallback
 203               		.type	ibus_MessageCallback, @function
 204               	ibus_MessageCallback:
 205               		.stabd	46,0,0
  54:main.c        ****     while(1){};
  55:main.c        **** }
  56:main.c        **** 
  57:main.c        **** //------------------------------------------------------------------------------
  58:main.c        **** // This method will be called by IBus stack when new message recieved
  59:main.c        **** //------------------------------------------------------------------------------
  60:main.c        **** void ibus_MessageCallback(uint8_t src, uint8_t dst, uint8_t* msg, uint8_t msglen)
  61:main.c        **** {
 206               		.stabn	68,0,62,.LM16-.LFBB3
 207               	.LM16:
 208               	.LFBB3:
 209               	/* prologue: function */
 210               	/* frame size = 0 */
 211               	/* epilogue start */
  62:main.c        **** }
 212               		.stabn	68,0,63,.LM17-.LFBB3
 213               	.LM17:
 214 0042 0895      		ret
 215               		.size	ibus_MessageCallback, .-ibus_MessageCallback
 216               	.Lscope3:
 217               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 218               		.stabd	78,0,0
 219               		.stabs	"__vector_16:F(0,15)",36,0,256,__vector_16
 220               	.global	__vector_16
 221               		.type	__vector_16, @function
 222               	__vector_16:
GAS LISTING /tmp/ccSrPIrd.s 			page 6


 223               		.stabd	46,0,0
  63:main.c        **** 
  64:main.c        **** 
  65:main.c        **** //------------------------------------------------------------------------------
  66:main.c        **** // Init all hardware parts needed for the project
  67:main.c        **** //------------------------------------------------------------------------------
  68:main.c        **** void initHardware(void)
  69:main.c        **** {
  70:main.c        ****     // set default variables
  71:main.c        ****     g_tickNumber = 0;
  72:main.c        **** 
  73:main.c        ****     // setup hardware
  74:main.c        ****     i2c_init();
  75:main.c        ****     led_init();
  76:main.c        ****     display_init();
  77:main.c        ****     button_init();
  78:main.c        ****     tick_init();
  79:main.c        ****     adc_init();
  80:main.c        ****     
  81:main.c        ****     // setup IBus hardware
  82:main.c        ****     ibus_init();
  83:main.c        ****     ibus_setMessageCallback(ibus_MessageCallback);
  84:main.c        **** 
  85:main.c        ****     // enable interrupts
  86:main.c        ****     sei();
  87:main.c        **** }
  88:main.c        **** 
  89:main.c        **** //------------------------------------------------------------------------------
  90:main.c        **** // Set FUSES correctrly ( http://www.engbedded.com/fusecalc/):
  91:main.c        **** // avrdude -U lfuse:w:0xff:m -U hfuse:w:0xc9:m  (ext crystal, disable jtag, ckopt)
  92:main.c        **** //------------------------------------------------------------------------------
  93:main.c        **** int main(void)
  94:main.c        **** {
  95:main.c        ****     // init hardware and do small delay after init
  96:main.c        ****     initHardware();
  97:main.c        **** 
  98:main.c        ****     uint8_t welcommsg1[16] = {IBUS_MSG_UPDATE_MID, 0x40, 0x20, 'W', 'E', 'L', 'C', 'O', 'M', 'E', 0
  99:main.c        ****     uint8_t welcommsg2[16] = {IBUS_MSG_UPDATE_MID, 0x40, 0x20, 'O', 'P', 'E', 'N', 'B', 'M', '_', '
 100:main.c        ****     //ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_ANZV, data, 16, IBUS_TRANSMIT_TRIES);
 101:main.c        ****     
 102:main.c        ****     led_red_set(0b11110000);
 103:main.c        ****     
 104:main.c        ****     for(;;)
 105:main.c        ****     {
 106:main.c        ****         // update current state of buttons
 107:main.c        ****         button_tick();
 108:main.c        ****         
 109:main.c        ****         // ----------- Do full reset if user liked so --------------------------
 110:main.c        ****         if (button_released(BUTTON_MENU_LR) && button(BUTTON_SELECT) && button(BUTTON_EJECT))
 111:main.c        ****             resetCPU();
 112:main.c        **** 
 113:main.c        ****         if (button_pressed(BUTTON_EJECT))
 114:main.c        ****         {
 115:main.c        ****             static uint8_t show = 1;
 116:main.c        ****             if (show)
 117:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg1, 16, IBUS_TRANSMIT_TRIES);
 118:main.c        ****             else
GAS LISTING /tmp/ccSrPIrd.s 			page 7


 119:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg2, 16, IBUS_TRANSMIT_TRIES);
 120:main.c        ****             show = !show;
 121:main.c        ****         }
 122:main.c        ****         
 123:main.c        ****         // debugging
 124:main.c        ****         {
 125:main.c        ****             led_green_immediate_set(button(BUTTON_EJECT));
 126:main.c        ****         }
 127:main.c        **** 
 128:main.c        ****         // ----- Display Buttons ------
 129:main.c        ****         display_updateState();
 130:main.c        **** 
 131:main.c        ****         // ------------ Task timer has shooted, so perfrom repeated task -------
 132:main.c        ****         if (tick_event())
 133:main.c        ****         {
 134:main.c        ****             // update flashing LEDs
 135:main.c        ****             led_tick();
 136:main.c        ****             
 137:main.c        ****             // perform ibus tasks
 138:main.c        ****             ibus_tick();
 139:main.c        **** 
 140:main.c        ****             // perform global tick
 141:main.c        ****             tick();
 142:main.c        ****         }
 143:main.c        **** 
 144:main.c        **** 
 145:main.c        ****         // ----------- MID Simulation ---------------------
 146:main.c        ****         if (button_pressed(BUTTON_RADIO_CW))
 147:main.c        ****         {
 148:main.c        ****             uint8_t data[2] = {0x32, 0x11};
 149:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data, 2, IBUS_TRANSMIT_TRIES);
 150:main.c        ****         }else if (button_pressed(BUTTON_RADIO_CCW))
 151:main.c        ****         {
 152:main.c        ****             uint8_t data[2] = {0x32, 0x10};
 153:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data, 2, IBUS_TRANSMIT_TRIES);
 154:main.c        ****         }
 155:main.c        **** 
 156:main.c        ****         if (button_pressed(BUTTON_1))
 157:main.c        ****         {
 158:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x00};
 159:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x40};
 160:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 161:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 162:main.c        ****         }
 163:main.c        **** 
 164:main.c        ****         if (button_pressed(BUTTON_2))
 165:main.c        ****         {
 166:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x01};
 167:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x41};
 168:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 169:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 170:main.c        ****         }
 171:main.c        **** 
 172:main.c        ****         if (button_pressed(BUTTON_3))
 173:main.c        ****         {
 174:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x02};
 175:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x42};
GAS LISTING /tmp/ccSrPIrd.s 			page 8


 176:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 177:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 178:main.c        ****         }
 179:main.c        **** 
 180:main.c        ****         if (button_pressed(BUTTON_4))
 181:main.c        ****         {
 182:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x03};
 183:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x43};
 184:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 185:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 186:main.c        ****         }
 187:main.c        **** 
 188:main.c        ****         if (button_pressed(BUTTON_5))
 189:main.c        ****         {
 190:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x04};
 191:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x44};
 192:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 193:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 194:main.c        ****         }
 195:main.c        **** 
 196:main.c        ****         if (button_pressed(BUTTON_6))
 197:main.c        ****         {
 198:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x05};
 199:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x45};
 200:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 201:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 202:main.c        ****         }
 203:main.c        **** 
 204:main.c        ****         if (button_pressed(BUTTON_AM))
 205:main.c        ****         {
 206:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x08};
 207:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x40};
 208:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 209:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 210:main.c        ****         }
 211:main.c        **** 
 212:main.c        ****         if (button_pressed(BUTTON_FM))
 213:main.c        ****         {
 214:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x09};
 215:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x49};
 216:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 217:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 218:main.c        ****         }
 219:main.c        **** 
 220:main.c        ****         if (button_pressed(BUTTON_REW))
 221:main.c        ****         {
 222:main.c        ****             uint8_t data1[4] = {0x31, 0x00, 0x00, 0x0C};
 223:main.c        ****             uint8_t data2[4] = {0x31, 0x00, 0x00, 0x4C};
 224:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 225:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 226:main.c        ****         }
 227:main.c        **** 
 228:main.c        ****         if (button_pressed(BUTTON_FF))
 229:main.c        ****         {
 230:main.c        ****             uint8_t data1[4] = {0x31, 0x00, 0x00, 0x0D};
 231:main.c        ****             uint8_t data2[4] = {0x31, 0x00, 0x00, 0x4D};
 232:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
GAS LISTING /tmp/ccSrPIrd.s 			page 9


 233:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 234:main.c        ****         }
 235:main.c        **** 
 236:main.c        ****         if (button_pressed(BUTTON_MODE))
 237:main.c        ****         {
 238:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x0B};
 239:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x4B};
 240:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 241:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 242:main.c        ****         }
 243:main.c        **** 
 244:main.c        **** 
 245:main.c        ****     }
 246:main.c        **** 
 247:main.c        ****     return 0;
 248:main.c        **** }
 249:main.c        **** 
 250:main.c        **** //------------------------------------------------------------------------------
 251:main.c        **** // React on ADC interrupts, so analog value is readed
 252:main.c        **** // afterwards conversion is started again and channel is switched
 253:main.c        **** //------------------------------------------------------------------------------
 254:main.c        **** ISR(ADC_vect)
 255:main.c        **** {
 224               		.stabn	68,0,256,.LM18-.LFBB4
 225               	.LM18:
 226               	.LFBB4:
 227 0044 1F92      		push __zero_reg__
 228 0046 0F92      		push r0
 229 0048 0FB6      		in r0,__SREG__
 230 004a 0F92      		push r0
 231 004c 1124      		clr __zero_reg__
 232 004e 8F93      		push r24
 233 0050 9F93      		push r25
 234               	/* prologue: Signal */
 235               	/* frame size = 0 */
 256:main.c        ****     BEGIN_ATOMAR;
 236               		.stabn	68,0,257,.LM19-.LFBB4
 237               	.LM19:
 238 0052 9FB7      		in r25,__SREG__
 239               	/* #APP */
 240               	 ;  257 "main.c" 1
 241 0054 F894      		cli
 242               	 ;  0 "" 2
 257:main.c        ****     {
 258:main.c        ****         if (g_adcCurrentChannel == 0)
 243               		.stabn	68,0,259,.LM20-.LFBB4
 244               	.LM20:
 245               	/* #NOAPP */
 246 0056 8091 0000 		lds r24,g_adcCurrentChannel
 247 005a 8823      		tst r24
 248 005c 01F4      		brne .L9
 259:main.c        ****         {
 260:main.c        ****             g_photoSensor = ADCH;
 249               		.stabn	68,0,261,.LM21-.LFBB4
 250               	.LM21:
 251 005e 85B1      		in r24,37-32
 252 0060 8093 0000 		sts g_photoSensor,r24
GAS LISTING /tmp/ccSrPIrd.s 			page 10


 261:main.c        **** 
 262:main.c        ****             // switch channel (read on ADC0 next)
 263:main.c        ****             g_adcCurrentChannel = 1;
 253               		.stabn	68,0,264,.LM22-.LFBB4
 254               	.LM22:
 255 0064 81E0      		ldi r24,lo8(1)
 256 0066 8093 0000 		sts g_adcCurrentChannel,r24
 264:main.c        ****             ADMUX &= ~(1 << MUX4) & ~(1 << MUX3) & ~(1 << MUX2) & ~(1 << MUX1) & ~(1 << MUX0);
 257               		.stabn	68,0,265,.LM23-.LFBB4
 258               	.LM23:
 259 006a 87B1      		in r24,39-32
 260 006c 807E      		andi r24,lo8(-32)
 261 006e 00C0      		rjmp .L12
 262               	.L9:
 265:main.c        ****         }else
 266:main.c        ****         {
 267:main.c        ****             g_backLightDimmer = ADCH;
 263               		.stabn	68,0,268,.LM24-.LFBB4
 264               	.LM24:
 265 0070 85B1      		in r24,37-32
 266 0072 8093 0000 		sts g_backLightDimmer,r24
 268:main.c        **** 
 269:main.c        ****             // switch channel (read on ADC7 next)
 270:main.c        ****             g_adcCurrentChannel = 0;
 267               		.stabn	68,0,271,.LM25-.LFBB4
 268               	.LM25:
 269 0076 1092 0000 		sts g_adcCurrentChannel,__zero_reg__
 271:main.c        ****             ADMUX &= ~(1 << MUX4) & ~(1 << MUX3);
 270               		.stabn	68,0,272,.LM26-.LFBB4
 271               	.LM26:
 272 007a 87B1      		in r24,39-32
 273 007c 877E      		andi r24,lo8(-25)
 274 007e 87B9      		out 39-32,r24
 272:main.c        ****             ADMUX |= (1 << MUX0) | (1 << MUX1) | (1 << MUX2);
 275               		.stabn	68,0,273,.LM27-.LFBB4
 276               	.LM27:
 277 0080 87B1      		in r24,39-32
 278 0082 8760      		ori r24,lo8(7)
 279               	.L12:
 280 0084 87B9      		out 39-32,r24
 273:main.c        ****         }
 274:main.c        ****         ADCSRA |= (1 << ADSC);
 281               		.stabn	68,0,275,.LM28-.LFBB4
 282               	.LM28:
 283 0086 369A      		sbi 38-32,6
 275:main.c        ****     }
 276:main.c        ****     END_ATOMAR;
 284               		.stabn	68,0,277,.LM29-.LFBB4
 285               	.LM29:
 286 0088 9FBF      		out __SREG__,r25
 287               	/* epilogue start */
 277:main.c        **** }
 288               		.stabn	68,0,278,.LM30-.LFBB4
 289               	.LM30:
 290 008a 9F91      		pop r25
 291 008c 8F91      		pop r24
 292 008e 0F90      		pop r0
GAS LISTING /tmp/ccSrPIrd.s 			page 11


 293 0090 0FBE      		out __SREG__,r0
 294 0092 0F90      		pop r0
 295 0094 1F90      		pop __zero_reg__
 296 0096 1895      		reti
 297               		.size	__vector_16, .-__vector_16
 298               		.stabs	"_sreg:r(0,11)",64,0,257,25
 299               		.stabn	192,0,0,.LFBB4-.LFBB4
 300               		.stabn	224,0,0,.Lscope4-.LFBB4
 301               	.Lscope4:
 302               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 303               		.stabd	78,0,0
 304               		.stabs	"initHardware:F(0,15)",36,0,70,initHardware
 305               	.global	initHardware
 306               		.type	initHardware, @function
 307               	initHardware:
 308               		.stabd	46,0,0
  70:main.c        **** {
 309               		.stabn	68,0,70,.LM31-.LFBB5
 310               	.LM31:
 311               	.LFBB5:
 312               	/* prologue: function */
 313               	/* frame size = 0 */
  72:main.c        ****     g_tickNumber = 0;
 314               		.stabn	68,0,72,.LM32-.LFBB5
 315               	.LM32:
 316 0098 1092 0000 		sts g_tickNumber,__zero_reg__
 317 009c 1092 0000 		sts (g_tickNumber)+1,__zero_reg__
 318 00a0 1092 0000 		sts (g_tickNumber)+2,__zero_reg__
 319 00a4 1092 0000 		sts (g_tickNumber)+3,__zero_reg__
  75:main.c        ****     i2c_init();
 320               		.stabn	68,0,75,.LM33-.LFBB5
 321               	.LM33:
 322 00a8 0E94 0000 		call i2c_init
  76:main.c        ****     led_init();
 323               		.stabn	68,0,76,.LM34-.LFBB5
 324               	.LM34:
 325 00ac 0E94 0000 		call led_init
  77:main.c        ****     display_init();
 326               		.stabn	68,0,77,.LM35-.LFBB5
 327               	.LM35:
 328 00b0 0E94 0000 		call display_init
  78:main.c        ****     button_init();
 329               		.stabn	68,0,78,.LM36-.LFBB5
 330               	.LM36:
 331 00b4 0E94 0000 		call button_init
  79:main.c        ****     tick_init();
 332               		.stabn	68,0,79,.LM37-.LFBB5
 333               	.LM37:
 334 00b8 87E0      		ldi r24,lo8(7)
 335 00ba 85BD      		out 69-32,r24
  80:main.c        ****     adc_init();
 336               		.stabn	68,0,80,.LM38-.LFBB5
 337               	.LM38:
 338 00bc 0E94 0000 		call adc_init
  83:main.c        ****     ibus_init();
 339               		.stabn	68,0,83,.LM39-.LFBB5
 340               	.LM39:
GAS LISTING /tmp/ccSrPIrd.s 			page 12


 341 00c0 0E94 0000 		call ibus_init
  84:main.c        ****     ibus_setMessageCallback(ibus_MessageCallback);
 342               		.stabn	68,0,84,.LM40-.LFBB5
 343               	.LM40:
 344 00c4 80E0      		ldi r24,lo8(gs(ibus_MessageCallback))
 345 00c6 90E0      		ldi r25,hi8(gs(ibus_MessageCallback))
 346 00c8 0E94 0000 		call ibus_setMessageCallback
  87:main.c        ****     sei();
 347               		.stabn	68,0,87,.LM41-.LFBB5
 348               	.LM41:
 349               	/* #APP */
 350               	 ;  87 "main.c" 1
 351 00cc 7894      		sei
 352               	 ;  0 "" 2
 353               	/* epilogue start */
  88:main.c        **** }
 354               		.stabn	68,0,88,.LM42-.LFBB5
 355               	.LM42:
 356               	/* #NOAPP */
 357 00ce 0895      		ret
 358               		.size	initHardware, .-initHardware
 359               	.Lscope5:
 360               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 361               		.stabd	78,0,0
 362               		.stabs	"main:F(0,1)",36,0,95,main
 363               	.global	main
 364               		.type	main, @function
 365               	main:
 366               		.stabd	46,0,0
  95:main.c        **** {
 367               		.stabn	68,0,95,.LM43-.LFBB6
 368               	.LM43:
 369               	.LFBB6:
 370 00d0 2F92      		push r2
 371 00d2 3F92      		push r3
 372 00d4 4F92      		push r4
 373 00d6 5F92      		push r5
 374 00d8 6F92      		push r6
 375 00da 7F92      		push r7
 376 00dc 8F92      		push r8
 377 00de 9F92      		push r9
 378 00e0 AF92      		push r10
 379 00e2 BF92      		push r11
 380 00e4 CF92      		push r12
 381 00e6 DF92      		push r13
 382 00e8 EF92      		push r14
 383 00ea FF92      		push r15
 384 00ec 0F93      		push r16
 385 00ee 1F93      		push r17
 386 00f0 DF93      		push r29
 387 00f2 CF93      		push r28
 388 00f4 CDB7      		in r28,__SP_L__
 389 00f6 DEB7      		in r29,__SP_H__
 390 00f8 AA97      		sbiw r28,42
 391 00fa 0FB6      		in __tmp_reg__,__SREG__
 392 00fc F894      		cli
 393 00fe DEBF      		out __SP_H__,r29
GAS LISTING /tmp/ccSrPIrd.s 			page 13


 394 0100 0FBE      		out __SREG__,__tmp_reg__
 395 0102 CDBF      		out __SP_L__,r28
 396               	/* prologue: function */
 397               	/* frame size = 42 */
  97:main.c        ****     initHardware();
 398               		.stabn	68,0,97,.LM44-.LFBB6
 399               	.LM44:
 400 0104 0E94 0000 		call initHardware
  99:main.c        ****     uint8_t welcommsg1[16] = {IBUS_MSG_UPDATE_MID, 0x40, 0x20, 'W', 'E', 'L', 'C', 'O', 'M', 'E', 0
 401               		.stabn	68,0,99,.LM45-.LFBB6
 402               	.LM45:
 403 0108 DE01      		movw r26,r28
 404 010a 1B96      		adiw r26,11
 405 010c E0E0      		ldi r30,lo8(C.0.1763)
 406 010e F0E0      		ldi r31,hi8(C.0.1763)
 407 0110 80E1      		ldi r24,lo8(16)
 408               	.L16:
 409 0112 0190      		ld r0,Z+
 410 0114 0D92      		st X+,r0
 411 0116 8150      		subi r24,lo8(-(-1))
 412 0118 01F4      		brne .L16
 100:main.c        ****     uint8_t welcommsg2[16] = {IBUS_MSG_UPDATE_MID, 0x40, 0x20, 'O', 'P', 'E', 'N', 'B', 'M', '_', '
 413               		.stabn	68,0,100,.LM46-.LFBB6
 414               	.LM46:
 415 011a DE01      		movw r26,r28
 416 011c 5B96      		adiw r26,27
 417 011e E0E0      		ldi r30,lo8(C.1.1764)
 418 0120 F0E0      		ldi r31,hi8(C.1.1764)
 419 0122 80E1      		ldi r24,lo8(16)
 420               	.L17:
 421 0124 0190      		ld r0,Z+
 422 0126 0D92      		st X+,r0
 423 0128 8150      		subi r24,lo8(-(-1))
 424 012a 01F4      		brne .L17
 103:main.c        ****     led_red_set(0b11110000);
 425               		.stabn	68,0,103,.LM47-.LFBB6
 426               	.LM47:
 427 012c 80EF      		ldi r24,lo8(-16)
 428 012e 0E94 0000 		call led_red_set
 429               	.LBB18:
 120:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg2, 16, IBUS_TRANSMIT_TRIES);
 430               		.stabn	68,0,120,.LM48-.LFBB6
 431               	.LM48:
 432 0132 7BE1      		ldi r23,lo8(27)
 433 0134 672E      		mov r6,r23
 434 0136 712C      		mov r7,__zero_reg__
 435 0138 6C0E      		add r6,r28
 436 013a 7D1E      		adc r7,r29
 118:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg1, 16, IBUS_TRANSMIT_TRIES);
 437               		.stabn	68,0,118,.LM49-.LFBB6
 438               	.LM49:
 439 013c 6BE0      		ldi r22,lo8(11)
 440 013e 462E      		mov r4,r22
 441 0140 512C      		mov r5,__zero_reg__
 442 0142 4C0E      		add r4,r28
 443 0144 5D1E      		adc r5,r29
 444               	.LBE18:
GAS LISTING /tmp/ccSrPIrd.s 			page 14


 445               	.LBB19:
 153:main.c        ****             uint8_t data[2] = {0x32, 0x10};
 446               		.stabn	68,0,153,.LM50-.LFBB6
 447               	.LM50:
 448 0146 52E3      		ldi r21,lo8(50)
 449 0148 E52E      		mov r14,r21
 154:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data, 2, IBUS_TRANSMIT_TRIES);
 450               		.stabn	68,0,154,.LM51-.LFBB6
 451               	.LM51:
 452 014a 4E01      		movw r8,r28
 453 014c 0894      		sec
 454 014e 811C      		adc r8,__zero_reg__
 455 0150 911C      		adc r9,__zero_reg__
 456               	.LBE19:
 457               	.LBB20:
 159:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x00};
 458               		.stabn	68,0,159,.LM52-.LFBB6
 459               	.LM52:
 460 0152 11E3      		ldi r17,lo8(49)
 461 0154 40E4      		ldi r20,lo8(64)
 462 0156 F42E      		mov r15,r20
 161:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 463               		.stabn	68,0,161,.LM53-.LFBB6
 464               	.LM53:
 465 0158 33E0      		ldi r19,lo8(3)
 466 015a A32E      		mov r10,r19
 467 015c B12C      		mov r11,__zero_reg__
 468 015e AC0E      		add r10,r28
 469 0160 BD1E      		adc r11,r29
 162:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 470               		.stabn	68,0,162,.LM54-.LFBB6
 471               	.LM54:
 472 0162 27E0      		ldi r18,lo8(7)
 473 0164 C22E      		mov r12,r18
 474 0166 D12C      		mov r13,__zero_reg__
 475 0168 CC0E      		add r12,r28
 476 016a DD1E      		adc r13,r29
 477               	.LBE20:
 478               	.LBB21:
 199:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x05};
 479               		.stabn	68,0,199,.LM55-.LFBB6
 480               	.LM55:
 481 016c 95E0      		ldi r25,lo8(5)
 482 016e 392E      		mov r3,r25
 200:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x45};
 483               		.stabn	68,0,200,.LM56-.LFBB6
 484               	.LM56:
 485 0170 85E4      		ldi r24,lo8(69)
 486 0172 282E      		mov r2,r24
 487               	.L43:
 488               	.LBE21:
 108:main.c        ****         button_tick();
 489               		.stabn	68,0,108,.LM57-.LFBB6
 490               	.LM57:
 491 0174 0E94 0000 		call button_tick
 111:main.c        ****         if (button_released(BUTTON_MENU_LR) && button(BUTTON_SELECT) && button(BUTTON_EJECT))
 492               		.stabn	68,0,111,.LM58-.LFBB6
GAS LISTING /tmp/ccSrPIrd.s 			page 15


 493               	.LM58:
 494 0178 80E1      		ldi r24,lo8(16)
 495 017a 0E94 0000 		call button_released
 496 017e 8823      		tst r24
 497 0180 01F0      		breq .L18
 498 0182 8DE0      		ldi r24,lo8(13)
 499 0184 0E94 0000 		call button
 500 0188 8823      		tst r24
 501 018a 01F0      		breq .L18
 502 018c 8EE1      		ldi r24,lo8(30)
 503 018e 0E94 0000 		call button
 504 0192 8823      		tst r24
 505 0194 01F0      		breq .L18
 506               	.LBB22:
 507               	.LBB23:
  53:main.c        ****     cli();
 508               		.stabn	68,0,53,.LM59-.LFBB6
 509               	.LM59:
 510               	/* #APP */
 511               	 ;  53 "main.c" 1
 512 0196 F894      		cli
 513               	 ;  0 "" 2
  54:main.c        ****     wdt_enable(WDTO_15MS);
 514               		.stabn	68,0,54,.LM60-.LFBB6
 515               	.LM60:
 516               	/* #NOAPP */
 517 0198 28E0      		ldi r18,lo8(8)
 518 019a 88E1      		ldi r24,lo8(24)
 519 019c 90E0      		ldi r25,hi8(24)
 520               	/* #APP */
 521               	 ;  54 "main.c" 1
 522 019e 0FB6      		in __tmp_reg__,__SREG__
 523 01a0 F894      		cli
 524 01a2 A895      		wdr
 525 01a4 81BD      		out 33,r24
 526 01a6 0FBE      		out __SREG__,__tmp_reg__
 527 01a8 21BD      		out 33,r18
 528               	 ;  0 "" 2
 529               	/* #NOAPP */
 530               	.L19:
 531 01aa 00C0      		rjmp .L19
 532               	.L18:
 533               	.LBE23:
 534               	.LBE22:
 114:main.c        ****         if (button_pressed(BUTTON_EJECT))
 535               		.stabn	68,0,114,.LM61-.LFBB6
 536               	.LM61:
 537 01ac 8EE1      		ldi r24,lo8(30)
 538 01ae 0E94 0000 		call button_pressed
 539 01b2 8823      		tst r24
 540 01b4 01F0      		breq .L20
 541               	.LBB24:
 117:main.c        ****             if (show)
 542               		.stabn	68,0,117,.LM62-.LFBB6
 543               	.LM62:
 544 01b6 8091 0000 		lds r24,show.1737
 545 01ba 8823      		tst r24
GAS LISTING /tmp/ccSrPIrd.s 			page 16


 546 01bc 01F0      		breq .L21
 118:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg1, 16, IBUS_TRANSMIT_TRIES);
 547               		.stabn	68,0,118,.LM63-.LFBB6
 548               	.LM63:
 549 01be 88E6      		ldi r24,lo8(104)
 550 01c0 60EC      		ldi r22,lo8(-64)
 551 01c2 A201      		movw r20,r4
 552 01c4 00C0      		rjmp .L44
 553               	.L21:
 120:main.c        ****                 ibus_sendMessage(IBUS_DEV_RAD, IBUS_DEV_MID, welcommsg2, 16, IBUS_TRANSMIT_TRIES);
 554               		.stabn	68,0,120,.LM64-.LFBB6
 555               	.LM64:
 556 01c6 88E6      		ldi r24,lo8(104)
 557 01c8 60EC      		ldi r22,lo8(-64)
 558 01ca A301      		movw r20,r6
 559               	.L44:
 560 01cc 20E1      		ldi r18,lo8(16)
 561 01ce 03E0      		ldi r16,lo8(3)
 562 01d0 0E94 0000 		call ibus_sendMessage
 121:main.c        ****             show = !show;
 563               		.stabn	68,0,121,.LM65-.LFBB6
 564               	.LM65:
 565 01d4 90E0      		ldi r25,lo8(0)
 566 01d6 8091 0000 		lds r24,show.1737
 567 01da 8823      		tst r24
 568 01dc 01F4      		brne .L23
 569 01de 91E0      		ldi r25,lo8(1)
 570               	.L23:
 571 01e0 9093 0000 		sts show.1737,r25
 572               	.L20:
 573               	.LBE24:
 126:main.c        ****             led_green_immediate_set(button(BUTTON_EJECT));
 574               		.stabn	68,0,126,.LM66-.LFBB6
 575               	.LM66:
 576 01e4 8EE1      		ldi r24,lo8(30)
 577 01e6 0E94 0000 		call button
 578 01ea 0E94 0000 		call led_green_immediate_set
 130:main.c        ****         display_updateState();
 579               		.stabn	68,0,130,.LM67-.LFBB6
 580               	.LM67:
 581 01ee 0E94 0000 		call display_updateState
 133:main.c        ****         if (tick_event())
 582               		.stabn	68,0,133,.LM68-.LFBB6
 583               	.LM68:
 584 01f2 84B5      		in r24,68-32
 585 01f4 843B      		cpi r24,lo8(-76)
 586 01f6 00F0      		brlo .L24
 136:main.c        ****             led_tick();
 587               		.stabn	68,0,136,.LM69-.LFBB6
 588               	.LM69:
 589 01f8 0E94 0000 		call led_tick
 139:main.c        ****             ibus_tick();
 590               		.stabn	68,0,139,.LM70-.LFBB6
 591               	.LM70:
 592 01fc 0E94 0000 		call ibus_tick
 142:main.c        ****             tick();
 593               		.stabn	68,0,142,.LM71-.LFBB6
GAS LISTING /tmp/ccSrPIrd.s 			page 17


 594               	.LM71:
 595 0200 8091 0000 		lds r24,g_tickNumber
 596 0204 9091 0000 		lds r25,(g_tickNumber)+1
 597 0208 A091 0000 		lds r26,(g_tickNumber)+2
 598 020c B091 0000 		lds r27,(g_tickNumber)+3
 599 0210 0196      		adiw r24,1
 600 0212 A11D      		adc r26,__zero_reg__
 601 0214 B11D      		adc r27,__zero_reg__
 602 0216 8093 0000 		sts g_tickNumber,r24
 603 021a 9093 0000 		sts (g_tickNumber)+1,r25
 604 021e A093 0000 		sts (g_tickNumber)+2,r26
 605 0222 B093 0000 		sts (g_tickNumber)+3,r27
 606 0226 14BC      		out 68-32,__zero_reg__
 607               	.L24:
 147:main.c        ****         if (button_pressed(BUTTON_RADIO_CW))
 608               		.stabn	68,0,147,.LM72-.LFBB6
 609               	.LM72:
 610 0228 8CE1      		ldi r24,lo8(28)
 611 022a 0E94 0000 		call button_pressed
 612 022e 8823      		tst r24
 613 0230 01F0      		breq .L25
 614               	.LBB25:
 149:main.c        ****             uint8_t data[2] = {0x32, 0x11};
 615               		.stabn	68,0,149,.LM73-.LFBB6
 616               	.LM73:
 617 0232 E982      		std Y+1,r14
 618 0234 81E1      		ldi r24,lo8(17)
 619 0236 00C0      		rjmp .L45
 620               	.L25:
 621               	.LBE25:
 151:main.c        ****         }else if (button_pressed(BUTTON_RADIO_CCW))
 622               		.stabn	68,0,151,.LM74-.LFBB6
 623               	.LM74:
 624 0238 8DE1      		ldi r24,lo8(29)
 625 023a 0E94 0000 		call button_pressed
 626 023e 8823      		tst r24
 627 0240 01F0      		breq .L26
 628               	.LBB26:
 153:main.c        ****             uint8_t data[2] = {0x32, 0x10};
 629               		.stabn	68,0,153,.LM75-.LFBB6
 630               	.LM75:
 631 0242 E982      		std Y+1,r14
 632 0244 80E1      		ldi r24,lo8(16)
 633               	.L45:
 634 0246 8A83      		std Y+2,r24
 154:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data, 2, IBUS_TRANSMIT_TRIES);
 635               		.stabn	68,0,154,.LM76-.LFBB6
 636               	.LM76:
 637 0248 80EC      		ldi r24,lo8(-64)
 638 024a 68E6      		ldi r22,lo8(104)
 639 024c A401      		movw r20,r8
 640 024e 22E0      		ldi r18,lo8(2)
 641 0250 03E0      		ldi r16,lo8(3)
 642 0252 0E94 0000 		call ibus_sendMessage
 643               	.L26:
 644               	.LBE26:
 157:main.c        ****         if (button_pressed(BUTTON_1))
GAS LISTING /tmp/ccSrPIrd.s 			page 18


 645               		.stabn	68,0,157,.LM77-.LFBB6
 646               	.LM77:
 647 0256 88E0      		ldi r24,lo8(8)
 648 0258 0E94 0000 		call button_pressed
 649 025c 8823      		tst r24
 650 025e 01F0      		breq .L27
 651               	.LBB27:
 159:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x00};
 652               		.stabn	68,0,159,.LM78-.LFBB6
 653               	.LM78:
 654 0260 1B83      		std Y+3,r17
 655 0262 FC82      		std Y+4,r15
 656 0264 1D82      		std Y+5,__zero_reg__
 657 0266 1E82      		std Y+6,__zero_reg__
 160:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x40};
 658               		.stabn	68,0,160,.LM79-.LFBB6
 659               	.LM79:
 660 0268 1F83      		std Y+7,r17
 661 026a F886      		std Y+8,r15
 662 026c 1986      		std Y+9,__zero_reg__
 663 026e FA86      		std Y+10,r15
 161:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 664               		.stabn	68,0,161,.LM80-.LFBB6
 665               	.LM80:
 666 0270 80EC      		ldi r24,lo8(-64)
 667 0272 68E6      		ldi r22,lo8(104)
 668 0274 A501      		movw r20,r10
 669 0276 24E0      		ldi r18,lo8(4)
 670 0278 03E0      		ldi r16,lo8(3)
 671 027a 0E94 0000 		call ibus_sendMessage
 162:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 672               		.stabn	68,0,162,.LM81-.LFBB6
 673               	.LM81:
 674 027e 80EC      		ldi r24,lo8(-64)
 675 0280 68E6      		ldi r22,lo8(104)
 676 0282 A601      		movw r20,r12
 677 0284 24E0      		ldi r18,lo8(4)
 678 0286 0E94 0000 		call ibus_sendMessage
 679               	.L27:
 680               	.LBE27:
 165:main.c        ****         if (button_pressed(BUTTON_2))
 681               		.stabn	68,0,165,.LM82-.LFBB6
 682               	.LM82:
 683 028a 8AE0      		ldi r24,lo8(10)
 684 028c 0E94 0000 		call button_pressed
 685 0290 8823      		tst r24
 686 0292 01F0      		breq .L28
 687               	.LBB28:
 167:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x01};
 688               		.stabn	68,0,167,.LM83-.LFBB6
 689               	.LM83:
 690 0294 1F83      		std Y+7,r17
 691 0296 F886      		std Y+8,r15
 692 0298 1986      		std Y+9,__zero_reg__
 693 029a 81E0      		ldi r24,lo8(1)
 694 029c 8A87      		std Y+10,r24
 168:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x41};
GAS LISTING /tmp/ccSrPIrd.s 			page 19


 695               		.stabn	68,0,168,.LM84-.LFBB6
 696               	.LM84:
 697 029e 1B83      		std Y+3,r17
 698 02a0 FC82      		std Y+4,r15
 699 02a2 1D82      		std Y+5,__zero_reg__
 700 02a4 81E4      		ldi r24,lo8(65)
 701 02a6 8E83      		std Y+6,r24
 169:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 702               		.stabn	68,0,169,.LM85-.LFBB6
 703               	.LM85:
 704 02a8 80EC      		ldi r24,lo8(-64)
 705 02aa 68E6      		ldi r22,lo8(104)
 706 02ac A601      		movw r20,r12
 707 02ae 24E0      		ldi r18,lo8(4)
 708 02b0 03E0      		ldi r16,lo8(3)
 709 02b2 0E94 0000 		call ibus_sendMessage
 170:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 710               		.stabn	68,0,170,.LM86-.LFBB6
 711               	.LM86:
 712 02b6 80EC      		ldi r24,lo8(-64)
 713 02b8 68E6      		ldi r22,lo8(104)
 714 02ba A501      		movw r20,r10
 715 02bc 24E0      		ldi r18,lo8(4)
 716 02be 0E94 0000 		call ibus_sendMessage
 717               	.L28:
 718               	.LBE28:
 173:main.c        ****         if (button_pressed(BUTTON_3))
 719               		.stabn	68,0,173,.LM87-.LFBB6
 720               	.LM87:
 721 02c2 86E0      		ldi r24,lo8(6)
 722 02c4 0E94 0000 		call button_pressed
 723 02c8 8823      		tst r24
 724 02ca 01F0      		breq .L29
 725               	.LBB29:
 175:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x02};
 726               		.stabn	68,0,175,.LM88-.LFBB6
 727               	.LM88:
 728 02cc 1B83      		std Y+3,r17
 729 02ce FC82      		std Y+4,r15
 730 02d0 1D82      		std Y+5,__zero_reg__
 731 02d2 82E0      		ldi r24,lo8(2)
 732 02d4 8E83      		std Y+6,r24
 176:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x42};
 733               		.stabn	68,0,176,.LM89-.LFBB6
 734               	.LM89:
 735 02d6 1F83      		std Y+7,r17
 736 02d8 F886      		std Y+8,r15
 737 02da 1986      		std Y+9,__zero_reg__
 738 02dc 82E4      		ldi r24,lo8(66)
 739 02de 8A87      		std Y+10,r24
 177:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 740               		.stabn	68,0,177,.LM90-.LFBB6
 741               	.LM90:
 742 02e0 80EC      		ldi r24,lo8(-64)
 743 02e2 68E6      		ldi r22,lo8(104)
 744 02e4 A501      		movw r20,r10
 745 02e6 24E0      		ldi r18,lo8(4)
GAS LISTING /tmp/ccSrPIrd.s 			page 20


 746 02e8 03E0      		ldi r16,lo8(3)
 747 02ea 0E94 0000 		call ibus_sendMessage
 178:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 748               		.stabn	68,0,178,.LM91-.LFBB6
 749               	.LM91:
 750 02ee 80EC      		ldi r24,lo8(-64)
 751 02f0 68E6      		ldi r22,lo8(104)
 752 02f2 A601      		movw r20,r12
 753 02f4 24E0      		ldi r18,lo8(4)
 754 02f6 0E94 0000 		call ibus_sendMessage
 755               	.L29:
 756               	.LBE29:
 181:main.c        ****         if (button_pressed(BUTTON_4))
 757               		.stabn	68,0,181,.LM92-.LFBB6
 758               	.LM92:
 759 02fa 82E0      		ldi r24,lo8(2)
 760 02fc 0E94 0000 		call button_pressed
 761 0300 8823      		tst r24
 762 0302 01F0      		breq .L30
 763               	.LBB30:
 183:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x03};
 764               		.stabn	68,0,183,.LM93-.LFBB6
 765               	.LM93:
 766 0304 1F83      		std Y+7,r17
 767 0306 F886      		std Y+8,r15
 768 0308 1986      		std Y+9,__zero_reg__
 769 030a 83E0      		ldi r24,lo8(3)
 770 030c 8A87      		std Y+10,r24
 184:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x43};
 771               		.stabn	68,0,184,.LM94-.LFBB6
 772               	.LM94:
 773 030e 1B83      		std Y+3,r17
 774 0310 FC82      		std Y+4,r15
 775 0312 1D82      		std Y+5,__zero_reg__
 776 0314 83E4      		ldi r24,lo8(67)
 777 0316 8E83      		std Y+6,r24
 185:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 778               		.stabn	68,0,185,.LM95-.LFBB6
 779               	.LM95:
 780 0318 80EC      		ldi r24,lo8(-64)
 781 031a 68E6      		ldi r22,lo8(104)
 782 031c A601      		movw r20,r12
 783 031e 24E0      		ldi r18,lo8(4)
 784 0320 03E0      		ldi r16,lo8(3)
 785 0322 0E94 0000 		call ibus_sendMessage
 186:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 786               		.stabn	68,0,186,.LM96-.LFBB6
 787               	.LM96:
 788 0326 80EC      		ldi r24,lo8(-64)
 789 0328 68E6      		ldi r22,lo8(104)
 790 032a A501      		movw r20,r10
 791 032c 24E0      		ldi r18,lo8(4)
 792 032e 0E94 0000 		call ibus_sendMessage
 793               	.L30:
 794               	.LBE30:
 189:main.c        ****         if (button_pressed(BUTTON_5))
 795               		.stabn	68,0,189,.LM97-.LFBB6
GAS LISTING /tmp/ccSrPIrd.s 			page 21


 796               	.LM97:
 797 0332 84E0      		ldi r24,lo8(4)
 798 0334 0E94 0000 		call button_pressed
 799 0338 8823      		tst r24
 800 033a 01F0      		breq .L31
 801               	.LBB31:
 191:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x04};
 802               		.stabn	68,0,191,.LM98-.LFBB6
 803               	.LM98:
 804 033c 1B83      		std Y+3,r17
 805 033e FC82      		std Y+4,r15
 806 0340 1D82      		std Y+5,__zero_reg__
 807 0342 84E0      		ldi r24,lo8(4)
 808 0344 8E83      		std Y+6,r24
 192:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x44};
 809               		.stabn	68,0,192,.LM99-.LFBB6
 810               	.LM99:
 811 0346 1F83      		std Y+7,r17
 812 0348 F886      		std Y+8,r15
 813 034a 1986      		std Y+9,__zero_reg__
 814 034c 84E4      		ldi r24,lo8(68)
 815 034e 8A87      		std Y+10,r24
 193:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 816               		.stabn	68,0,193,.LM100-.LFBB6
 817               	.LM100:
 818 0350 80EC      		ldi r24,lo8(-64)
 819 0352 68E6      		ldi r22,lo8(104)
 820 0354 A501      		movw r20,r10
 821 0356 24E0      		ldi r18,lo8(4)
 822 0358 03E0      		ldi r16,lo8(3)
 823 035a 0E94 0000 		call ibus_sendMessage
 194:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 824               		.stabn	68,0,194,.LM101-.LFBB6
 825               	.LM101:
 826 035e 80EC      		ldi r24,lo8(-64)
 827 0360 68E6      		ldi r22,lo8(104)
 828 0362 A601      		movw r20,r12
 829 0364 24E0      		ldi r18,lo8(4)
 830 0366 0E94 0000 		call ibus_sendMessage
 831               	.L31:
 832               	.LBE31:
 197:main.c        ****         if (button_pressed(BUTTON_6))
 833               		.stabn	68,0,197,.LM102-.LFBB6
 834               	.LM102:
 835 036a 80E0      		ldi r24,lo8(0)
 836 036c 0E94 0000 		call button_pressed
 837 0370 8823      		tst r24
 838 0372 01F0      		breq .L32
 839               	.LBB32:
 199:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x05};
 840               		.stabn	68,0,199,.LM103-.LFBB6
 841               	.LM103:
 842 0374 1F83      		std Y+7,r17
 843 0376 F886      		std Y+8,r15
 844 0378 1986      		std Y+9,__zero_reg__
 845 037a 3A86      		std Y+10,r3
 200:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x45};
GAS LISTING /tmp/ccSrPIrd.s 			page 22


 846               		.stabn	68,0,200,.LM104-.LFBB6
 847               	.LM104:
 848 037c 1B83      		std Y+3,r17
 849 037e FC82      		std Y+4,r15
 850 0380 1D82      		std Y+5,__zero_reg__
 851 0382 2E82      		std Y+6,r2
 201:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 852               		.stabn	68,0,201,.LM105-.LFBB6
 853               	.LM105:
 854 0384 80EC      		ldi r24,lo8(-64)
 855 0386 68E6      		ldi r22,lo8(104)
 856 0388 A601      		movw r20,r12
 857 038a 24E0      		ldi r18,lo8(4)
 858 038c 03E0      		ldi r16,lo8(3)
 859 038e 0E94 0000 		call ibus_sendMessage
 202:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 860               		.stabn	68,0,202,.LM106-.LFBB6
 861               	.LM106:
 862 0392 80EC      		ldi r24,lo8(-64)
 863 0394 68E6      		ldi r22,lo8(104)
 864 0396 A501      		movw r20,r10
 865 0398 24E0      		ldi r18,lo8(4)
 866 039a 0E94 0000 		call ibus_sendMessage
 867               	.L32:
 868               	.LBE32:
 205:main.c        ****         if (button_pressed(BUTTON_AM))
 869               		.stabn	68,0,205,.LM107-.LFBB6
 870               	.LM107:
 871 039e 83E0      		ldi r24,lo8(3)
 872 03a0 0E94 0000 		call button_pressed
 873 03a4 8823      		tst r24
 874 03a6 01F0      		breq .L33
 875               	.LBB33:
 207:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x08};
 876               		.stabn	68,0,207,.LM108-.LFBB6
 877               	.LM108:
 878 03a8 1B83      		std Y+3,r17
 879 03aa FC82      		std Y+4,r15
 880 03ac 1D82      		std Y+5,__zero_reg__
 881 03ae 88E0      		ldi r24,lo8(8)
 882 03b0 8E83      		std Y+6,r24
 208:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x40};
 883               		.stabn	68,0,208,.LM109-.LFBB6
 884               	.LM109:
 885 03b2 1F83      		std Y+7,r17
 886 03b4 F886      		std Y+8,r15
 887 03b6 1986      		std Y+9,__zero_reg__
 888 03b8 FA86      		std Y+10,r15
 209:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 889               		.stabn	68,0,209,.LM110-.LFBB6
 890               	.LM110:
 891 03ba 80EC      		ldi r24,lo8(-64)
 892 03bc 68E6      		ldi r22,lo8(104)
 893 03be A501      		movw r20,r10
 894 03c0 24E0      		ldi r18,lo8(4)
 895 03c2 03E0      		ldi r16,lo8(3)
 896 03c4 0E94 0000 		call ibus_sendMessage
GAS LISTING /tmp/ccSrPIrd.s 			page 23


 210:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 897               		.stabn	68,0,210,.LM111-.LFBB6
 898               	.LM111:
 899 03c8 80EC      		ldi r24,lo8(-64)
 900 03ca 68E6      		ldi r22,lo8(104)
 901 03cc A601      		movw r20,r12
 902 03ce 24E0      		ldi r18,lo8(4)
 903 03d0 0E94 0000 		call ibus_sendMessage
 904               	.L33:
 905               	.LBE33:
 213:main.c        ****         if (button_pressed(BUTTON_FM))
 906               		.stabn	68,0,213,.LM112-.LFBB6
 907               	.LM112:
 908 03d4 89E0      		ldi r24,lo8(9)
 909 03d6 0E94 0000 		call button_pressed
 910 03da 8823      		tst r24
 911 03dc 01F0      		breq .L34
 912               	.LBB34:
 215:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x09};
 913               		.stabn	68,0,215,.LM113-.LFBB6
 914               	.LM113:
 915 03de 1F83      		std Y+7,r17
 916 03e0 F886      		std Y+8,r15
 917 03e2 1986      		std Y+9,__zero_reg__
 918 03e4 89E0      		ldi r24,lo8(9)
 919 03e6 8A87      		std Y+10,r24
 216:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x49};
 920               		.stabn	68,0,216,.LM114-.LFBB6
 921               	.LM114:
 922 03e8 1B83      		std Y+3,r17
 923 03ea FC82      		std Y+4,r15
 924 03ec 1D82      		std Y+5,__zero_reg__
 925 03ee 89E4      		ldi r24,lo8(73)
 926 03f0 8E83      		std Y+6,r24
 217:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 927               		.stabn	68,0,217,.LM115-.LFBB6
 928               	.LM115:
 929 03f2 80EC      		ldi r24,lo8(-64)
 930 03f4 68E6      		ldi r22,lo8(104)
 931 03f6 A601      		movw r20,r12
 932 03f8 24E0      		ldi r18,lo8(4)
 933 03fa 03E0      		ldi r16,lo8(3)
 934 03fc 0E94 0000 		call ibus_sendMessage
 218:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 935               		.stabn	68,0,218,.LM116-.LFBB6
 936               	.LM116:
 937 0400 80EC      		ldi r24,lo8(-64)
 938 0402 68E6      		ldi r22,lo8(104)
 939 0404 A501      		movw r20,r10
 940 0406 24E0      		ldi r18,lo8(4)
 941 0408 0E94 0000 		call ibus_sendMessage
 942               	.L34:
 943               	.LBE34:
 221:main.c        ****         if (button_pressed(BUTTON_REW))
 944               		.stabn	68,0,221,.LM117-.LFBB6
 945               	.LM117:
 946 040c 81E1      		ldi r24,lo8(17)
GAS LISTING /tmp/ccSrPIrd.s 			page 24


 947 040e 0E94 0000 		call button_pressed
 948 0412 8823      		tst r24
 949 0414 01F0      		breq .L35
 950               	.LBB35:
 223:main.c        ****             uint8_t data1[4] = {0x31, 0x00, 0x00, 0x0C};
 951               		.stabn	68,0,223,.LM118-.LFBB6
 952               	.LM118:
 953 0416 1B83      		std Y+3,r17
 954 0418 1C82      		std Y+4,__zero_reg__
 955 041a 1D82      		std Y+5,__zero_reg__
 956 041c 8CE0      		ldi r24,lo8(12)
 957 041e 8E83      		std Y+6,r24
 224:main.c        ****             uint8_t data2[4] = {0x31, 0x00, 0x00, 0x4C};
 958               		.stabn	68,0,224,.LM119-.LFBB6
 959               	.LM119:
 960 0420 1F83      		std Y+7,r17
 961 0422 1886      		std Y+8,__zero_reg__
 962 0424 1986      		std Y+9,__zero_reg__
 963 0426 8CE4      		ldi r24,lo8(76)
 964 0428 8A87      		std Y+10,r24
 225:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 965               		.stabn	68,0,225,.LM120-.LFBB6
 966               	.LM120:
 967 042a 80EC      		ldi r24,lo8(-64)
 968 042c 68E6      		ldi r22,lo8(104)
 969 042e A501      		movw r20,r10
 970 0430 24E0      		ldi r18,lo8(4)
 971 0432 03E0      		ldi r16,lo8(3)
 972 0434 0E94 0000 		call ibus_sendMessage
 226:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 973               		.stabn	68,0,226,.LM121-.LFBB6
 974               	.LM121:
 975 0438 80EC      		ldi r24,lo8(-64)
 976 043a 68E6      		ldi r22,lo8(104)
 977 043c A601      		movw r20,r12
 978 043e 24E0      		ldi r18,lo8(4)
 979 0440 0E94 0000 		call ibus_sendMessage
 980               	.L35:
 981               	.LBE35:
 229:main.c        ****         if (button_pressed(BUTTON_FF))
 982               		.stabn	68,0,229,.LM122-.LFBB6
 983               	.LM122:
 984 0444 8EE0      		ldi r24,lo8(14)
 985 0446 0E94 0000 		call button_pressed
 986 044a 8823      		tst r24
 987 044c 01F0      		breq .L36
 988               	.LBB36:
 231:main.c        ****             uint8_t data1[4] = {0x31, 0x00, 0x00, 0x0D};
 989               		.stabn	68,0,231,.LM123-.LFBB6
 990               	.LM123:
 991 044e 1F83      		std Y+7,r17
 992 0450 1886      		std Y+8,__zero_reg__
 993 0452 1986      		std Y+9,__zero_reg__
 994 0454 8DE0      		ldi r24,lo8(13)
 995 0456 8A87      		std Y+10,r24
 232:main.c        ****             uint8_t data2[4] = {0x31, 0x00, 0x00, 0x4D};
 996               		.stabn	68,0,232,.LM124-.LFBB6
GAS LISTING /tmp/ccSrPIrd.s 			page 25


 997               	.LM124:
 998 0458 1B83      		std Y+3,r17
 999 045a 1C82      		std Y+4,__zero_reg__
 1000 045c 1D82      		std Y+5,__zero_reg__
 1001 045e 8DE4      		ldi r24,lo8(77)
 1002 0460 8E83      		std Y+6,r24
 233:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 1003               		.stabn	68,0,233,.LM125-.LFBB6
 1004               	.LM125:
 1005 0462 80EC      		ldi r24,lo8(-64)
 1006 0464 68E6      		ldi r22,lo8(104)
 1007 0466 A601      		movw r20,r12
 1008 0468 24E0      		ldi r18,lo8(4)
 1009 046a 03E0      		ldi r16,lo8(3)
 1010 046c 0E94 0000 		call ibus_sendMessage
 234:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 1011               		.stabn	68,0,234,.LM126-.LFBB6
 1012               	.LM126:
 1013 0470 80EC      		ldi r24,lo8(-64)
 1014 0472 68E6      		ldi r22,lo8(104)
 1015 0474 A501      		movw r20,r10
 1016 0476 24E0      		ldi r18,lo8(4)
 1017 0478 0E94 0000 		call ibus_sendMessage
 1018               	.L36:
 1019               	.LBE36:
 237:main.c        ****         if (button_pressed(BUTTON_MODE))
 1020               		.stabn	68,0,237,.LM127-.LFBB6
 1021               	.LM127:
 1022 047c 87E0      		ldi r24,lo8(7)
 1023 047e 0E94 0000 		call button_pressed
 1024 0482 8823      		tst r24
 1025 0484 01F4      		brne .+2
 1026 0486 00C0      		rjmp .L43
 1027               	.LBB37:
 239:main.c        ****             uint8_t data1[4] = {0x31, 0x40, 0x00, 0x0B};
 1028               		.stabn	68,0,239,.LM128-.LFBB6
 1029               	.LM128:
 1030 0488 1B83      		std Y+3,r17
 1031 048a FC82      		std Y+4,r15
 1032 048c 1D82      		std Y+5,__zero_reg__
 1033 048e 8BE0      		ldi r24,lo8(11)
 1034 0490 8E83      		std Y+6,r24
 240:main.c        ****             uint8_t data2[4] = {0x31, 0x40, 0x00, 0x4B};
 1035               		.stabn	68,0,240,.LM129-.LFBB6
 1036               	.LM129:
 1037 0492 1F83      		std Y+7,r17
 1038 0494 F886      		std Y+8,r15
 1039 0496 1986      		std Y+9,__zero_reg__
 1040 0498 8BE4      		ldi r24,lo8(75)
 1041 049a 8A87      		std Y+10,r24
 241:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data1, 4, IBUS_TRANSMIT_TRIES);
 1042               		.stabn	68,0,241,.LM130-.LFBB6
 1043               	.LM130:
 1044 049c 80EC      		ldi r24,lo8(-64)
 1045 049e 68E6      		ldi r22,lo8(104)
 1046 04a0 A501      		movw r20,r10
 1047 04a2 24E0      		ldi r18,lo8(4)
GAS LISTING /tmp/ccSrPIrd.s 			page 26


 1048 04a4 03E0      		ldi r16,lo8(3)
 1049 04a6 0E94 0000 		call ibus_sendMessage
 242:main.c        ****             ibus_sendMessage(IBUS_DEV_MID, IBUS_DEV_RAD, data2, 4, IBUS_TRANSMIT_TRIES);
 1050               		.stabn	68,0,242,.LM131-.LFBB6
 1051               	.LM131:
 1052 04aa 80EC      		ldi r24,lo8(-64)
 1053 04ac 68E6      		ldi r22,lo8(104)
 1054 04ae A601      		movw r20,r12
 1055 04b0 24E0      		ldi r18,lo8(4)
 1056 04b2 0E94 0000 		call ibus_sendMessage
 1057 04b6 00C0      		rjmp .L43
 1058               	.LBE37:
 1059               		.size	main, .-main
 1060               		.stabs	"welcommsg1:(0,17)=ar(0,18)=r(0,18);0;0177777;;0;15;(5,2)",128,0,99,11
 1061               		.stabs	"welcommsg2:(0,17)",128,0,100,27
 1062               		.stabn	192,0,0,.LFBB6-.LFBB6
 1063               		.stabs	"show:V(5,2)",38,0,116,show.1737
 1064               		.stabn	192,0,0,.LBB18-.LFBB6
 1065               		.stabn	224,0,0,.LBE18-.LFBB6
 1066               		.stabs	"data:(0,19)=ar(0,18);0;1;(5,2)",128,0,153,1
 1067               		.stabn	192,0,0,.LBB19-.LFBB6
 1068               		.stabn	224,0,0,.LBE19-.LFBB6
 1069               		.stabs	"data1:(0,20)=ar(0,18);0;3;(5,2)",128,0,159,3
 1070               		.stabs	"data2:(0,20)",128,0,160,7
 1071               		.stabn	192,0,0,.LBB20-.LFBB6
 1072               		.stabn	224,0,0,.LBE20-.LFBB6
 1073               		.stabs	"data1:(0,20)",128,0,199,7
 1074               		.stabs	"data2:(0,20)",128,0,200,3
 1075               		.stabn	192,0,0,.LBB21-.LFBB6
 1076               		.stabn	224,0,0,.LBE21-.LFBB6
 1077               		.stabs	"show:V(5,2)",38,0,116,show.1737
 1078               		.stabn	192,0,0,.LBB24-.LFBB6
 1079               		.stabn	224,0,0,.LBE24-.LFBB6
 1080               		.stabs	"data:(0,19)",128,0,149,1
 1081               		.stabn	192,0,0,.LBB25-.LFBB6
 1082               		.stabn	224,0,0,.LBE25-.LFBB6
 1083               		.stabs	"data:(0,19)",128,0,153,1
 1084               		.stabn	192,0,0,.LBB26-.LFBB6
 1085               		.stabn	224,0,0,.LBE26-.LFBB6
 1086               		.stabs	"data1:(0,20)",128,0,159,3
 1087               		.stabs	"data2:(0,20)",128,0,160,7
 1088               		.stabn	192,0,0,.LBB27-.LFBB6
 1089               		.stabn	224,0,0,.LBE27-.LFBB6
 1090               		.stabs	"data1:(0,20)",128,0,167,7
 1091               		.stabs	"data2:(0,20)",128,0,168,3
 1092               		.stabn	192,0,0,.LBB28-.LFBB6
 1093               		.stabn	224,0,0,.LBE28-.LFBB6
 1094               		.stabs	"data1:(0,20)",128,0,175,3
 1095               		.stabs	"data2:(0,20)",128,0,176,7
 1096               		.stabn	192,0,0,.LBB29-.LFBB6
 1097               		.stabn	224,0,0,.LBE29-.LFBB6
 1098               		.stabs	"data1:(0,20)",128,0,183,7
 1099               		.stabs	"data2:(0,20)",128,0,184,3
 1100               		.stabn	192,0,0,.LBB30-.LFBB6
 1101               		.stabn	224,0,0,.LBE30-.LFBB6
 1102               		.stabs	"data1:(0,20)",128,0,191,3
 1103               		.stabs	"data2:(0,20)",128,0,192,7
GAS LISTING /tmp/ccSrPIrd.s 			page 27


 1104               		.stabn	192,0,0,.LBB31-.LFBB6
 1105               		.stabn	224,0,0,.LBE31-.LFBB6
 1106               		.stabs	"data1:(0,20)",128,0,199,7
 1107               		.stabs	"data2:(0,20)",128,0,200,3
 1108               		.stabn	192,0,0,.LBB32-.LFBB6
 1109               		.stabn	224,0,0,.LBE32-.LFBB6
 1110               		.stabs	"data1:(0,20)",128,0,207,3
 1111               		.stabs	"data2:(0,20)",128,0,208,7
 1112               		.stabn	192,0,0,.LBB33-.LFBB6
 1113               		.stabn	224,0,0,.LBE33-.LFBB6
 1114               		.stabs	"data1:(0,20)",128,0,215,7
 1115               		.stabs	"data2:(0,20)",128,0,216,3
 1116               		.stabn	192,0,0,.LBB34-.LFBB6
 1117               		.stabn	224,0,0,.LBE34-.LFBB6
 1118               		.stabs	"data1:(0,20)",128,0,223,3
 1119               		.stabs	"data2:(0,20)",128,0,224,7
 1120               		.stabn	192,0,0,.LBB35-.LFBB6
 1121               		.stabn	224,0,0,.LBE35-.LFBB6
 1122               		.stabs	"data1:(0,20)",128,0,231,7
 1123               		.stabs	"data2:(0,20)",128,0,232,3
 1124               		.stabn	192,0,0,.LBB36-.LFBB6
 1125               		.stabn	224,0,0,.LBE36-.LFBB6
 1126               		.stabs	"data1:(0,20)",128,0,239,3
 1127               		.stabs	"data2:(0,20)",128,0,240,7
 1128               		.stabn	192,0,0,.LBB37-.LFBB6
 1129               		.stabn	224,0,0,.LBE37-.LFBB6
 1130               		.stabn	224,0,0,.Lscope6-.LFBB6
 1131               	.Lscope6:
 1132               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 1133               		.stabd	78,0,0
 1134               	.global	g_tickNumber
 1135               	.global	g_tickNumber
 1136               		.section .bss
 1137               		.type	g_tickNumber, @object
 1138               		.size	g_tickNumber, 4
 1139               	g_tickNumber:
 1140 0000 0000 0000 		.skip 4,0
 1141               	.global	g_photoSensor
 1142               	.global	g_photoSensor
 1143               		.type	g_photoSensor, @object
 1144               		.size	g_photoSensor, 1
 1145               	g_photoSensor:
 1146 0004 00        		.skip 1,0
 1147               	.global	g_backLightDimmer
 1148               	.global	g_backLightDimmer
 1149               		.type	g_backLightDimmer, @object
 1150               		.size	g_backLightDimmer, 1
 1151               	g_backLightDimmer:
 1152 0005 00        		.skip 1,0
 1153               	.global	g_adcCurrentChannel
 1154               	.global	g_adcCurrentChannel
 1155               		.type	g_adcCurrentChannel, @object
 1156               		.size	g_adcCurrentChannel, 1
 1157               	g_adcCurrentChannel:
 1158 0006 00        		.skip 1,0
 1159               		.data
 1160               		.type	show.1737, @object
GAS LISTING /tmp/ccSrPIrd.s 			page 28


 1161               		.size	show.1737, 1
 1162               	show.1737:
 1163 0000 01        		.byte	1
 1164               		.type	C.1.1764, @object
 1165               		.size	C.1.1764, 16
 1166               	C.1.1764:
 1167 0001 23        		.byte	35
 1168 0002 40        		.byte	64
 1169 0003 20        		.byte	32
 1170 0004 4F        		.byte	79
 1171 0005 50        		.byte	80
 1172 0006 45        		.byte	69
 1173 0007 4E        		.byte	78
 1174 0008 42        		.byte	66
 1175 0009 4D        		.byte	77
 1176 000a 5F        		.byte	95
 1177 000b 45        		.byte	69
 1178 000c 33        		.byte	51
 1179 000d 39        		.byte	57
 1180 000e 21        		.byte	33
 1181 000f 20        		.byte	32
 1182 0010 20        		.byte	32
 1183               		.type	C.0.1763, @object
 1184               		.size	C.0.1763, 16
 1185               	C.0.1763:
 1186 0011 23        		.byte	35
 1187 0012 40        		.byte	64
 1188 0013 20        		.byte	32
 1189 0014 57        		.byte	87
 1190 0015 45        		.byte	69
 1191 0016 4C        		.byte	76
 1192 0017 43        		.byte	67
 1193 0018 4F        		.byte	79
 1194 0019 4D        		.byte	77
 1195 001a 45        		.byte	69
 1196 001b 20        		.byte	32
 1197 001c 20        		.byte	32
 1198 001d 20        		.byte	32
 1199 001e 20        		.byte	32
 1200 001f 20        		.byte	32
 1201 0020 20        		.byte	32
 1202               		.stabs	"show:V(5,2)",38,0,116,show.1737
 1203               		.stabs	"g_tickNumber:G(1,1)",32,0,18,0
 1204               		.stabs	"g_photoSensor:G(5,2)",32,0,21,0
 1205               		.stabs	"g_backLightDimmer:G(5,2)",32,0,22,0
 1206               		.stabs	"g_adcCurrentChannel:G(5,2)",32,0,25,0
 1207               		.text
 1208               		.stabs	"",100,0,0,.Letext0
 1209               	.Letext0:
GAS LISTING /tmp/ccSrPIrd.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/ccSrPIrd.s:2      *ABS*:0000003f __SREG__
     /tmp/ccSrPIrd.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccSrPIrd.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccSrPIrd.s:5      *ABS*:00000034 __CCP__
     /tmp/ccSrPIrd.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccSrPIrd.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccSrPIrd.s:104    .text:00000000 adc_init
     /tmp/ccSrPIrd.s:1145   .bss:00000004 g_photoSensor
     /tmp/ccSrPIrd.s:1151   .bss:00000005 g_backLightDimmer
     /tmp/ccSrPIrd.s:1157   .bss:00000006 g_adcCurrentChannel
     /tmp/ccSrPIrd.s:162    .text:0000002c resetCPU
     /tmp/ccSrPIrd.s:204    .text:00000042 ibus_MessageCallback
     /tmp/ccSrPIrd.s:222    .text:00000044 __vector_16
     /tmp/ccSrPIrd.s:307    .text:00000098 initHardware
     /tmp/ccSrPIrd.s:1139   .bss:00000000 g_tickNumber
     /tmp/ccSrPIrd.s:365    .text:000000d0 main
     /tmp/ccSrPIrd.s:1185   .data:00000011 C.0.1763
     /tmp/ccSrPIrd.s:1166   .data:00000001 C.1.1764
     /tmp/ccSrPIrd.s:1162   .data:00000000 show.1737

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
i2c_init
led_init
display_init
button_init
ibus_init
ibus_setMessageCallback
led_red_set
button_tick
button_released
button
button_pressed
ibus_sendMessage
led_green_immediate_set
display_updateState
led_tick
ibus_tick
